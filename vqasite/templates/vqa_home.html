{% extends "base.html" %}

{% block title %}
Team 66
{% endblock %}

{% block page_title %}
Visual Question Answering
{% endblock %}

{% block active_page %}
VQA
{% endblock %}

{% block content %}
<div class="row">
<div class="col-md-12">
  <div class="alert alert-warning">
      Currently works best for abstract scene images. Please choose Image ID between 20000 and 29999.
  </div>
  <form method="post" class="form-horizontal">
      <div class="input-group m-b" >
          <span class="input-group-btn">
              <input type="submit" value="Image ID" class="btn btn-primary"/>
          </span> 
          <input 
                  type="text" 
                  class="form-control"
                  name="image_id"
                  id="image_id"
                  placeholder="20000"
                  value="{{image_id}}"/>

      </div>

      <div class="input-group m-b" >
          <span class="input-group-btn">
              <input type="submit" value="Question" class="btn btn-primary"/>
          </span> 
          <input 
                  type="text" 
                  class="form-control"
                  name="question"
                  id="question"
                  placeholder="what color?"
                  value="{{question}}"/>

      </div>
  </form>

  </div>
</div>

{% if image_name %}
</br>
<div class="row">
  <div class="col-md-6">
      <div class="ibox float-e-margins">

          <div class="ibox-title">
              <div class="col-md-6">
                <h5>Selected Image</h5>
              </div>
          </div>

          <div class="ibox-content">
              <div class="row">
                  <img style="width:350px;height:200px;" src="static/img/{{image_name}}">
              </div>
          </div>
      </div>
  </div>
  {% if question  %}
  <div class="col-md-6">
      <div class="ibox float-e-margins">

          <div class="ibox-title">
              <div class="col-md-6">
                <h5>Top Answers</h5>
              </div>
          </div>

          <div class="ibox-content">
            <div class="row">
              <div class="col-md-5">
                <div class="font-bold text-info">Answer</div>
              </div>
              <div class="col-md-5">
                <div class="font-bold text-info pull-right">Probability</div>
              </div>
            </div>

            {% for idx in range(5)%}
            <div class="row">
              <div class="col-md-5">
                <h2 class="no-margins">{{top_ans_texts[idx]}}</h2>
              </div>
              <div class="col-md-5">
                <h2 class="no-margins pull-right">{{100*top_ans_probs[idx] | round(2)}}%</h2>
              </div>
            </div>
            {% endfor %}

          </div>
        
      </div>
      
  </div>
  {% endif %}
</div>

{% endif %}

{% endblock %}